<!DOCTYPE html>
<html>
<head>
    <title>Soda NFT Collection Gallery</title>
    <style>
        /* Add styles for your gallery here */
        body {background-color: #000030;}
        h2, h3, h4, p {
            color: #9ff;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        p {
            font-size: small;
            margin: 0 10px 0 10px;
        }
        h3:hover {
            color: #33ff99;
            font-weight: bold;
        }
        h4 {
            font-size:x-small;
            font-weight:lighter;
            z-index: 99;
        }

        .gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .btngallery {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: flex-start;
            padding: 20px;
        }
        .btngallery button {
            cursor: pointer;
            background-color: #000020;
            color: #9ff;
            border-radius: 15px;
            font-size: medium;
            height: 3em;
        }
        .btngallery button:hover {
            background-color: #000030;
            color:#33ff99;
        }
        .nft {
            border: 1px solid #000020;
            padding: 10px;
            text-align: center;
            border-radius: 10px;
            background-color: #000020;
            width: 220px;
            overflow:visible;
            cursor: pointer;
            box-shadow: #000020;
        }
     
        .nft img {
            width: 100%;
            height: 100%;
            border-radius: 4px;
            object-fit: cover;
            transform-origin: 50% 65%;
            transition: transform 5s, filter 3s ease-in-out;
            filter: brightness(80%);
        }

        .nft img:hover {
            filter: brightness(100%);
            transform: scale(1.5);
        }
        .slider {
        display: flex;
        overflow-x: auto;
        scroll-behavior: smooth;
        }

        .slider::-webkit-scrollbar {
        display: none; /* Hide scrollbar for Chrome, Safari, and Opera */
        }

        .nftslide {
        flex: 0 0 auto; /* Prevent flex items from growing or shrinking */
        width: 100%; /* Make each item full width */
        max-width: 200px; /* Adjust based on your design */
        }
        .colorful-background {
        border-color: #ff0; /* Example: Yellow border for colorful background */
        }

        .shaped-silhouette {
            box-shadow: 0 0 10px #f0f; /* Example: Purple glow for shaped silhouettes */
        }
        .specs {
            color: #f0f;
            font-size: xx-small;
        }

    </style>
</head>
<body>
    <div id="nftFilter" class="btngallery">
    <button class="filter-btn" data-family="All">All</button>
    <button class="filter-btn" data-family="bird">Bird (20)</button>
    <button class="filter-btn" data-family="bull">Bull (25)</button>
    <button class="filter-btn" data-family="calavera">Calavera (9)</button>
    <button class="filter-btn" data-family="cosmic">Cosmic (21)</button>
    <button class="filter-btn" data-family="devil">Devil (13)</button>
    <button class="filter-btn" data-family="dinosaur">Dinosaur (25)</button>
    <button class="filter-btn" data-family="dog">Dog (42)</button>
    <button class="filter-btn" data-family="dolphin">Dolphin (9)</button>
    <button class="filter-btn" data-family="fish">Fish (14)</button>
    <button class="filter-btn" data-family="gecko">Gecko (39)</button>
    <button class="filter-btn" data-family="ghost">Ghost (6)</button>
    <button class="filter-btn" data-family="goblin">Goblin (7)</button>
    <button class="filter-btn" data-family="jellyfish">Jellyfish (10)</button>
    <button class="filter-btn" data-family="lizard">Lizard (11)</button>
    <button class="filter-btn" data-family="map">Map (13)</button>
    <button class="filter-btn" data-family="monkey">Monkey (54)</button>
    <button class="filter-btn" data-family="monster">Monster (43)</button>
    <button class="filter-btn" data-family="ocean">Ocean (14)</button>
    <button class="filter-btn" data-family="octopus">Octopus (17)</button>
    <button class="filter-btn" data-family="pirate">Pirate (38)</button>
    <button class="filter-btn" data-family="polar bear">Polar Bear (29)</button>
    <button class="filter-btn" data-family="sailboat">Sailboat (30)</button>
    <button class="filter-btn" data-family="sea monster">Sea Monster (26)</button>
    <button class="filter-btn" data-family="seashell">Seashell (13)</button>
    <button class="filter-btn" data-family="shark">Shark (22)</button>
    <button class="filter-btn" data-family="snowman">Snowman (35)</button>
    <button class="filter-btn" data-family="starfish">Starfish (20)</button>
    <button class="filter-btn" data-family="tiger">Tiger (31)</button>
    <button class="filter-btn" data-family="tree">Tree (9)</button>
    <button class="filter-btn" data-family="urban">Urban (14)</button>
    <button class="filter-btn" data-family="vampire">Vampire (10)</button>
    <button class="filter-btn" data-family="werewolf">Werewolf (9)</button>     
    </div>

    <div id="nftGallery" class="gallery">
    <!-- Gallery items will be added here -->
    </div>

<script>
async function loadNFTData() {
    console.log('Starting to load NFT data from CSV...');
    const response = await fetch('nft_data.csv');
    const csvText = await response.text();
    if (!response.ok) {
        console.error('Failed to fetch nft_data.csv', response.status, response.statusText);
        return [];
    }
    console.log('CSV data fetched successfully.');

    // Adjusted to split based on semicolon delimiter
    const rows = csvText.trim().split('\n');
    const headers = rows.shift().split(';').map(header => header.trim().toLowerCase().replace(/\s+/g, ''));
    console.log('Headers:', headers);

    const nftData = rows.map(row => {
        const values = row.split(';'); // Adjusted to split based on semicolon delimiter
        let nft = {};
        values.forEach((value, index) => {
            const key = headers[index];
            nft[key] = value.trim();
        });
        return nft;
    }).filter(nft => nft.filepath && nft.name && nft.description && nft.family && nft.number);

    console.log(`Loaded ${nftData.length} NFTs.`);
    return nftData;
}


async function displayNFTs() {
    console.log('Displaying NFTs...');
    const nftData = await loadNFTData();
    if (nftData.length === 0) {
        console.log('No NFT data to display.');
        return;
    }

    const gallery = document.getElementById('nftGallery');
    if (!gallery) {
        console.error('Gallery element not found.');
        return;
    }

    nftData.forEach(nft => {
    const nftElement = document.createElement('div');
    nftElement.className = 'nft';
    nftElement.setAttribute('data-family', nft.family); // Set data-family attribute

    // Add classes based on the NFT's background and shape properties
    let additionalClasses = '';
    if (nft.background === 'y') {
        additionalClasses += ' colorful-background';
    }
    if (nft.shaped === 'y') {
        additionalClasses += ' shaped-silhouette';
    }
    nftElement.classList += additionalClasses;

    nftElement.innerHTML = `
        <h3>#${nft.number} - ${nft.family}</h3>
        <img src="gallery/${nft.filepath}" alt="${nft.name}" style="width:100%; max-width:200px; height:auto;">  
        <h3>${nft.name}</h3>
        <p class="specs">Background: ${nft.background === 'y' ? 'Colorful' : 'Standard'} 
            | Shaped: ${nft.shaped === 'y' ? 'Yes' : 'No'}</p>
            <p> ${nft.description}</p>
    `;
    gallery.appendChild(nftElement);
    });


    console.log('NFTs displayed successfully.');
}

document.addEventListener('DOMContentLoaded', displayNFTs);

document.addEventListener('DOMContentLoaded', () => {
  const buttons = document.querySelectorAll('.filter-btn');

  buttons.forEach(button => {
    button.addEventListener('click', (e) => {
      const family = e.target.getAttribute('data-family');
      filterNFTs(family);
    });
  });

    function filterNFTs(family) {
    const nftItems = document.querySelectorAll('.nft'); // Correct class name
    nftItems.forEach(item => {
        if (family === 'All' || item.getAttribute('data-family') === family) {
        item.style.display = '';
        } else {
        item.style.display = 'none';
        }
    });
    }

});
 
</script>
    

</body>
</html>
